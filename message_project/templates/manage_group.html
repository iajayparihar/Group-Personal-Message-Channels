{% extends 'base.html' %}

{% block title %}
Manage Group - {{ group.name }}
{% endblock title %}
    

{% block body %}
        
    <h2>Manage Group: {{ group.name }}</h2>
    <h3>Group Members</h3>
    <ul>
        {% for member in group_members %}
        <li>{{ member.username }} 
            <form method="POST" style="display:inline;">
                {% csrf_token %}
                <button type="submit" class="btn btn-outline-warning" name="remove_member" value="{{ member.username }}">Remove</button> 
            </form>
        </li>
        <br>
        {% endfor %}
    </ul>

    <h3>Add New Member</h3>
    <form method="POST">
        {% csrf_token %}
        <select name="new_member">
            {% for user in users %}
                <option value="{{ user.username }}">{{ user.username }}</option>
            {% endfor %}
        </select>
        <button type="submit" class="btn btn-outline-primary" name="add_member">Add Member</button>
    </form>

    <h3>Delete Group</h3>
    <form method="POST">
        {% csrf_token %}
        <button type="submit" class="btn btn-outline-danger" name="delete_group">Delete Group</button>
    </form>

    <div>
        {% for message in messages %}
            <p>{{ message }}</p>
        {% endfor %}
    </div>
    
{% endblock body %}